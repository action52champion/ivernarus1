# Ivernarus1 - независимое от мессенжера шифрование сообщений

Вы пишите сообщение в Ivernarus1, шифруете его, пересылаете контакту. Неудобно, зато безопасно и работает везде где есть броузер, а главное с любым мессенжером. Позволяет гибко шифровать только важные сообщения.

*Преимущества*

- шифрование на основе одноразового ключа и шифра Вернама, который невозможно взломать если нет доступа к ключу
- зашифрованный текст использует только печатные символы, но не меняет структуру предложений
- возможность отрицаемости переписки при включенной подрезке ключа - второй раз зашифрованное сообщение не прочитать
- работает везде, где вы можете писать по-русски или по-английски

*Недостатки*

- ключ расходуется при шифровании, поэтому стандартный размер достаточно большой - 700 кб
- нужен доверенный канал связи для передачи ключа

## Быстрый старт

### Предустановка

1) Скачать `index.html` на телефон или компьютер и открыть в броузере(лучше firefox/chrome/vivaldy/opera - стандартный веб броузер андроида криво экспортирует ключи).
2) Добавить контакт и привязать к нему ключ:
    - на главной странице ввести имя и нажать "Добавить"
    - на странице контакта нажать "Сгенерировать ключ". 
    - Нажать "Передача ключа" - ключ скачается на ваше устройство. 
    - Нажмите "Сохранить"
3) Передайте ключ контакту через канал связи, которому вы доверяете больше, чем тому, через который планируете общаться. Т.е. планируете общаться в Max - передайте ключ через Telegram, или почту, или при личной встрече. Только так шифрование будет безопасным.
4) Ваш контакт должен также скачать index.html к себе на устройство и добавить вас. Но вместо генерации ключа он должен нажать "Нажмите для импорта ключа" и загрузить туда переданный вами ключ. Потом нажать сохранить. Можно переходить к общению.

### Общение

1) Нажать "Чат" напротив контакта.
2) В поле "Обычное сообщение" введите текст сообщения и нажмите кнопку "Шифровать".
3) Скопируйте полученное сообщение из поля "Шифрованное сообщение" и перенесите в мессенжер и отправьте контакту.
4) Полученное от контакта сообщения вставьте в поле "Шифрованное сообщение" и нажмите "Расшифровать".

Если вы поставили галочку "Подрезать ключ", то после каждой расшифровки использованный кусок ключа будет удаляться из памяти телефона. Таким образом, даже если в руки третьего лица попадет ваш телефон и история переписки, то он все равно не сможет расшифровать старые сообщения. Только удалите файл ключа с телефона!

Галочка "Прятать цифры в сообщении" отвечает за схожесть зашифрованного текста с реальным. Попробуйте оба значения, чтобы понять что вам подходит больше.

Для приема и отправки сообщений используются разные ключи, так что вы не сможете расшифровать сообщение зашированное вами же. Это нормально.

## Пояснения

Под капотом обычный шифр Вернама с одноразовым ключом. Шифруются только цифры, латинские и русские буквы. В конец дописывается проверочная сумма и позиция в одноразовом шифроблокноте, начиная с которой брать ключ для расшифровки. 

Такой формат сделан из соображений сложности детектирования и блокировки автоматическими средствами. Во многих случаях сообщения шифрованные Ivernarus1 неотличимы от опечаток, попыток писать русскими буквами на языках других национальностей.

Длины генерируемого ключа в среднем вам должно хватить на год-два общения, если вы будете шифровать ВСЕ сообщения.

В сумме размер всех хранимых ключей не может превышать 5 МБ - такое ограничение у многих броузеров для внутреннего хранилища.
